# uni-dev-task 开发路线图

> 基于项目 v2.1.5 版本的功能现状与未来规划
> 最后更新：2025-12-21

---

## 一、功能现状

### 已实现的核心功能

#### 项目管理
- [x] 项目创建、编辑、删除
- [x] 项目列表展示（按管理员/成员分类）
- [x] 项目成员管理（添加/移除成员、设置管理员）
- [x] 项目邀请码功能（二维码扫码加入）
- [x] 项目归档/取消归档

#### 任务管理
- [x] 任务创建、编辑、删除（完整的 CRUD）
- [x] 任务优先级设置（4个等级：较低/普通/较高/最高）
- [x] 任务负责人分配（支持内联下拉选择、多负责人）
- [x] 任务截止日期管理（支持逾期检查、高亮显示）
- [x] 任务分组功能（group_id 关联）
- [x] 任务排序功能（拖拽排序，使用 sortablejs）
- [x] 任务附件管理（上传、预览、删除）
- [x] 任务筛选（按状态/负责人/优先级/分组）
- [x] 任务详情页（功能完整，2100+ 行）
- [x] 我的任务视图（跨项目聚合）
- [x] 已完成任务列表
- [x] 已归档任务列表
- [x] 下拉刷新 / 上拉加载更多

#### 子任务系统
- [x] 添加/编辑/删除子任务
- [x] 子任务状态切换（完成/未完成）
- [x] 子任务负责人设置
- [x] 子任务截止日期设置
- [x] 点击跳转子任务详情
- [x] 支持多级子任务（无限层级）
- [x] 子任务完成进度显示

#### 评论系统
- [x] 发表评论
- [x] 编辑评论
- [x] 删除评论
- [x] @提及项目成员
- [x] 评论列表展示

#### 任务日志
- [x] 操作日志自动记录（opendb-task-logs）
- [x] 日志查询和展示
- [x] 按项目/成员筛选日志
- [x] 记录操作类型（创建/更新/删除/完成/评论）

#### 用户系统
- [x] 用户认证登录（uni-id-pages）
- [x] 用户中心
- [x] 个人信息编辑
- [x] 账号设置
- [x] 签到功能（uni-sign-in）

#### 技术架构
- [x] LRU 缓存机制（任务/成员/分组）
- [x] Vuex 状态管理（模块化设计）
- [x] 云函数架构（task-co, project-co, task-logs-co）
- [x] 多端适配（H5/小程序/App）
- [x] 响应式设计（PC 宽屏适配）
- [x] 自定义导航栏组件

#### UI/UX
- [x] TaskList 组件（任务列表复用组件）
- [x] TaskDetail 组件包（模块化拆分，5个子组件）
- [x] PC 端拖拽排序
- [x] PC 端悬停操作（删除/编辑按钮）
- [x] 移动端 FAB 悬浮按钮
- [x] 底部 TabBar（移动端）

---

### 部分实现的功能

#### 任务状态
- [~] 三态状态管理
  - Schema 定义了三种状态：未开始(0)、进行中(1)、已完成(2)
  - **当前仅使用两种**：未开始 ↔ 已完成
  - 前端无 UI 可设置"进行中"状态
  - 如需完整实现，需要：添加状态选择器、看板视图支持

---

## 二、未来规划

### 高优先级（Phase 1）

#### 通知系统
- [ ] 任务分配时通知被指派人
- [ ] 任务逾期提醒（定时任务）
- [ ] 项目成员变更通知
- [ ] 集成 uni-push 推送通知
- [ ] 通知中心页面

#### 看板视图（Kanban）
- [ ] 按状态分列展示（待开始/进行中/已完成）
- [ ] 拖拽任务切换状态
- [ ] 完整实现"进行中"状态

#### 项目统计面板
- [ ] 任务完成率统计
- [ ] 成员工作量分布
- [ ] 任务状态分布图
- [ ] 逾期任务统计

#### 智能搜索
- [ ] 全文搜索（任务标题+内容）
- [ ] 搜索结果高亮
- [ ] 搜索历史记录

### 中优先级（Phase 2）

#### 批量操作
- [ ] 任务多选模式
- [ ] 批量修改状态
- [ ] 批量分配任务
- [ ] 批量删除

#### 任务模板
- [ ] 任务模板创建和管理
- [ ] 从模板快速创建任务

#### 回收站
- [ ] 删除任务移入回收站
- [ ] 30天内可恢复
- [ ] 永久删除确认

#### 任务标签系统
- [ ] 自定义标签（名称、颜色）
- [ ] 按标签筛选任务

#### 移动端手势
- [ ] 左滑显示操作按钮
- [ ] 右滑快速完成
- [ ] 长按快捷菜单

### 低优先级（Phase 3）

#### 高级功能
- [ ] 任务依赖关系
- [ ] 数据导出（Excel/CSV）
- [ ] 数据导入
- [ ] 甘特图视图
- [ ] 日历视图
- [ ] 时间追踪
- [ ] 里程碑管理

#### AI 增强
- [ ] 任务描述智能生成
- [ ] 优先级自动评估
- [ ] 工作量预估

#### 第三方集成
- [ ] 钉钉/企业微信通知
- [ ] 邮件通知
- [ ] Webhook 支持

---

## 三、技术债务

### 代码质量
- [ ] 单元测试覆盖
- [ ] E2E 测试
- [ ] TypeScript 迁移（渐进式）

### 性能优化
- [ ] 虚拟滚动（长任务列表）
- [ ] 图片懒加载优化
- [ ] 云函数响应缓存

### 文档
- [ ] API 文档完善
- [ ] 组件使用文档
- [ ] 部署指南

---

## 四、项目统计

| 指标 | 数值 |
|------|------|
| 页面数量 | 24 个 Vue 文件 |
| 复用组件 | 9 个 |
| 数据库表 | 5 个核心表 |
| 云对象 | 5 个 |
| uni_modules | 25 个 |

---

## 更新日志

- **2025-12-21**: 重新验证并修正功能状态
  - 修正：子任务系统已完整实现（非"部分实现"）
  - 修正：评论系统已完整实现（非"schema已有，前端未实现"）
  - 修正：任务状态实际只使用两种（未开始/已完成）
  - 删除：storage.vue 相关描述（文件不存在）
  - 重命名：todo.md → ROADMAP.md
- **2025-11-25**: 初始版本，基于 v2.1.5 系统分析生成
